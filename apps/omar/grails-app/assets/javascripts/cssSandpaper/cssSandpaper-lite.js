function StringBuffer(){var a=this;var b=[];a.append=function(c){b.push(c);return a};a.appendBuffer=function(a){b=b.concat(a)};a.toString=function(){return b.join("")};a.getLength=function(){return b.length};a.flush=function(){b.length=0}}function MSFilter(a,b){function f(){c.name=c.filterCall.match(d)[0].replace("progid:","");var a=b.split("(")[1].replace(")","");c.parameters=a.match(e);for(var f=0;f<c.parameters.length;f++){c.parameters[f]=c.parameters[f].replace("=","")}}var c=this;c.node=a;c.filterCall=b;var d=/progid:([^\(]*)/g;var e=/([a-zA-Z0-9]+\s*)=/g;c.toString=function(){var a=new StringBuffer;a.append(StringHelpers.sprintf("progid:%s(",c.name));for(var b=0;b<c.parameters.length;b++){var d=c.parameters[b];var e=c.node.filters.item(c.name);var f=e[d];if(typeof f=="string"){a.append(StringHelpers.sprintf('%s="%s"',d,e[d]))}else{a.append(StringHelpers.sprintf("%s=%s",d,e[d]))}if(b!=c.parameters.length-1){a.append(", ")}}a.append(")");return a.toString()};f()}function MSFilterList(a){function e(){var e=d.filter.match(c);if(e!=null){for(var f=0;f<e.length;f++){var g=e[f];b.list.push(new MSFilter(a,g))}}}var b=this;b.list=new Array;b.node=a;var c=/[\s\S]*\([\s\S]*\)/g;var d=a.style;b.toString=function(){var a=new StringBuffer;for(var c=0;c<b.list.length;c++){a.append(b.list[c].toString());if(c<b.list.length-1){a.append(",")}}return a.toString()};b.fixFilterStyle=function(){try{b.node.style.filter=b.toString()}catch(a){}};e()}function CSSRule(a,b,c){var d=this;d.selector=a;d.name=b;d.value=c;d.toString=function(){return StringHelpers.sprintf("%s { %s: %s}",d.selector,d.name,d.value)}}var cssSandpaper=new function(){function p(){var a=document.getElementsByTagName("html")[0];var b=["transform","opacity"];for(var c=0;c<b.length;c++){var d=b[c];if(CSS3Helpers.supports(d)){CSSHelpers.addClass(a,"cssSandpaper-"+d)}}var e=CSSHelpers.getElementsByClassName(document,"cssSandpaper-initiallyHidden");for(var c=0;c<e.length;c++){CSSHelpers.removeClass(e[c],"cssSandpaper-initiallyHidden")}}function o(a){var b;switch(a.nodeName.toLowerCase()){case"style":b=StringHelpers.uncommentHTML(a.innerHTML);break;case"link":var c=XMLHelpers.getXMLHttpRequest(a.href,null,"GET",null,false);b=c.responseText;break}b=b.replace(h,"").replace(i,"");return b}var a=this;var b,c=new Array;var d=/[^\{]*{[^\}]*}/g;var e=/[\{\}]/g;var f=/gradient\([\s\S]*\)/g;var g=/hsl\([\s\S]*\)/g;var h=/\/\/.+?(?=\n|\r|$)|\/\*[\s\S]+?\*\//g;var i=/@[^\{\};]*;|@[^\{\};]*\{[^\}]*\}/g;var j=/\(\s*/g;var k=new Array;var l;var m;var n;a.init=function(a){if(EventHelpers.hasPageLoadHappened(arguments)&&!a){return}};a.setTransform=function(a,b){var c=CSS3Helpers.findProperty(a,"transform");if(c=="filter"){var d=CSS3Helpers.getTransformationMatrix(b);CSS3Helpers.setMatrixFilter(a,d)}else if(a.style[c]!=null){a.style[c]=b}};a.camelize=function(a){var b="";for(var c=0;c<a.length;c++){if(a.substring(c,c+1)=="-"){c++;b+=a.substring(c,c+1).toUpperCase()}else{b+=a.substring(c,c+1)}}return b};a.getProperties=function(a,b){var c="";if(!a){return c}for(var d in a){try{c+=b+"."+d.toString()+" = "+a[d]+", "}catch(e){}}return c}};var MatrixGenerator=new function(){function d(a){var d=parseFloat(a);var e=a.match(b);if(a.trim()=="0"){d=0;e="rad"}if(e.length!=1||d==0){return 0}e=e[0];var f;switch(e){case"deg":f=c(d);break;case"rad":f=d;break;default:throw"Not an angle: "+a}return f}function c(a){return(a-360)*Math.PI/180}var a=this;var b=/[a-z]+$/;a.identity=$M([[1,0,0],[0,1,0],[0,0,1]]);a.prettyPrint=function(a){return StringHelpers.sprintf("| %s %s %s | - | %s %s %s | - |%s %s %s|",a.e(1,1),a.e(1,2),a.e(1,3),a.e(2,1),a.e(2,2),a.e(2,3),a.e(3,1),a.e(3,2),a.e(3,3))};a.rotate=function(a){var b=d(a);return Matrix.RotationZ(b)};a.scale=function(a,b){a=parseFloat(a);if(!b){b=a}else{b=parseFloat(b)}return $M([[a,0,0],[0,b,0],[0,0,1]])};a.scaleX=function(b){return a.scale(b,1)};a.scaleY=function(b){return a.scale(1,b)};a.skew=function(a,b){var c=d(a);var e;if(b!=null){e=d(b)}else{e=c}if(c!=null&&e!=null){return $M([[1,Math.tan(c),0],[Math.tan(e),1,0],[0,0,1]])}else{return null}};a.skewX=function(b){return a.skew(b,"0")};a.skewY=function(b){return a.skew("0",b)};a.translate=function(a,b){var c=parseInt(a);var d=parseInt(b);return $M([[1,0,c],[0,1,d],[0,0,1]])};a.translateX=function(b){return a.translate(b,0)};a.translateY=function(b){return a.translate(0,b)};a.matrix=function(a,b,c,d,e,f){return $M([[a,c,parseInt(e)],[b,d,parseInt(f)],[0,0,1]])}};var CSS3Helpers=new function(){function degreesToRadians(a){return(a-360)*Math.PI/180}function addIETransformWorkaround(a){if(!hasIETransformWorkaround(a)){var b=a.parentNode;var c;var d=document.createElement("div");CSSHelpers.addClass(d,"IETransformContainer");d.style.width=a.offsetWidth+"px";d.style.height=a.offsetHeight+"px";d.xOriginalWidth=a.offsetWidth;d.xOriginalHeight=a.offsetHeight;d.style.position="absolute";d.style.zIndex=a.currentStyle.zIndex;var e=0;var f=0;if(a.currentStyle.display=="block"){d.style.left=a.offsetLeft+13-e+"px";d.style.top=a.offsetTop+13+ -f+"px"}else{d.style.left=a.offsetLeft+"px";d.style.top=a.offsetTop+"px"}a.style.top="auto";a.style.left="auto";a.style.bottom="auto";a.style.right="auto";var g=a.cloneNode(true);g.style.visibility="hidden";a.replaceNode(g);a.style.position="absolute";d.appendChild(a);b.insertBefore(d,g);d.style.backgroundColor="transparent";d.style.padding="0";c=me.addFilter(a,"DXImageTransform.Microsoft.Matrix","M11=1, M12=0, M21=0, M22=1, sizingMethod='auto expand'");var h=a.currentStyle.backgroundImage.split('"')[1]}}function hasIETransformWorkaround(a){return CSSHelpers.isMemberOfClass(a.parentNode,"IETransformContainer")}function normalizePercentage(a){if(a.substring(a.length-1,a.length)=="%"){return parseFloat(a)/100+""}else{return a}}function parseColorStop(a,b){var c=new Object;var d=me.getBracketedSubstring(a,"color-stop");var e=me.getBracketedSubstring(a,"from");var f=me.getBracketedSubstring(a,"to");if(d){var g=d.split(",");c.stop=normalizePercentage(g[0].trim());c.color=g[1].trim()}else if(e){c.stop=0;c.color=e.trim()}else if(f){c.stop=1;c.color=f.trim()}else{if(b<=1){c.color=a;if(b==0){c.stop=0}else{c.stop=1}}else{throw StringHelpers.sprintf('invalid argument "%s"',a)}}return c}function swapIndices(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}var me=this;var reTransformListSplitter=/[a-zA-Z]+\([^\)]*\)\s*/g;var reLeftBracket=/\(/g;var reRightBracket=/\)/g;var reComma=/,/g;var reSpaces=/\s+/g;var reFilterNameSplitter=/progid:([^\(]*)/g;var reLinearGradient;var canvas;var cache=new Array;me.supports=function(a){if(CSS3Helpers.findProperty(document.body,a)!=null){return true}else{return false}};me.getCanvas=function(){if(canvas){return canvas}else{canvas=document.createElement("canvas");return canvas}};me.getTransformationMatrix=function(CSS3TransformProperty,doThrowIfError){var transforms=CSS3TransformProperty.match(reTransformListSplitter);if(doThrowIfError){var checkString=transforms.join(" ").replace(/\s*/g," ");var normalizedCSSProp=CSS3TransformProperty.replace(/\s*/g," ");if(checkString!=normalizedCSSProp){throw"An invalid transform was given."}}var resultantMatrix=MatrixGenerator.identity;for(var j=0;j<transforms.length;j++){var transform=transforms[j];transform=transform.replace(reLeftBracket,'("').replace(reComma,'", "').replace(reRightBracket,'")');try{var matrix=eval("MatrixGenerator."+transform);resultantMatrix=resultantMatrix.x(matrix)}catch(ex){if(doThrowIfError){var method=transform.split("(")[0];var funcCall=transform.replace(/\"/g,"");if(MatrixGenerator[method]==undefined){throw"Error: invalid tranform function: "+funcCall}else{throw"Error: Invalid or missing parameters in function call: "+funcCall}}}}return resultantMatrix};me.getBracketedSubstring=function(a,b){var c=a.indexOf(b+"(");if(c!=-1){var d=a.substring(c);var e=1;for(var f=b.length+1;f<100||f<d.length;f++){var g=d.substring(f,f+1);switch(g){case"(":e++;break;case")":e--;break}if(e==0){break}}return d.substring(c+b.length+1,f)}};me.setMatrixFilter=function(a,b){if(!hasIETransformWorkaround(a)){addIETransformWorkaround(a)}var c=a.parentNode;var d=a.filters.item("DXImageTransform.Microsoft.Matrix");d.M11=b.e(1,1);d.M12=b.e(1,2);d.M21=b.e(2,1);d.M22=b.e(2,2);var e=me.getIEMatrixOffsets(a,b,c.xOriginalWidth,c.xOriginalHeight);c.style.marginLeft=e.x;c.style.marginTop=e.y;c.style.marginRight=0;c.style.marginBottom=0};me.getTransformedDimensions=function(a,b){var c={};if(hasIETransformWorkaround(a)){c.width=a.offsetWidth;c.height=a.offsetHeight}else{var d=[b.x($V([0,0,1])),b.x($V([0,a.offsetHeight,1])),b.x($V([a.offsetWidth,0,1])),b.x($V([a.offsetWidth,a.offsetHeight,1]))];var e=0,f=0,g=0,h=0;for(var i=0;i<d.length;i++){var j=d[i];var k=j.e(1),l=j.e(2);var g=Math.min(g,k);var e=Math.max(e,k);var h=Math.min(h,l);var f=Math.max(f,l)}c.width=e-g;c.height=f-h}return c};me.getIEMatrixOffsets=function(a,b,c,d){var e={};var f=parseFloat(c);var g=parseFloat(d);var h;if(CSSHelpers.getComputedStyle(a,"display")=="inline"){h=0}else{h=13}var i=me.getTransformedDimensions(a,b);e.x=(f-i.width)/2-h+b.e(1,3)+"px";e.y=(g-i.height)/2-h+b.e(2,3)+"px";return e};me.addFilter=function(a,b,c){var d;try{d=a.filters.item(b)}catch(e){var f=new MSFilterList(a);f.fixFilterStyle();var g=", ";if(a.filters.length==0){g=""}a.style.filter+=StringHelpers.sprintf("%sprogid:%s(%s)",g,b,c);d=a.filters.item(b)}return d};me.findProperty=function(a,b){capType=b.capitalize();var c=cache[b];if(!c){var d=a.style;var e=[b,"Moz"+capType,"Webkit"+capType,"O"+capType,"filter"];for(var f=0;f<e.length;f++){if(d[e[f]]!=null){c=e[f];break}}if(c=="filter"&&document.body.filters==undefined){c=null}cache[b]=c}return c};me.parseCoordinate=function(a,b){switch(a){case"top":case"left":return 0;case"bottom":case"right":return b;case"center":return b/2}if(a.indexOf("%")!=-1)a=parseFloat(a.substr(0,a.length-1))/100*b;else a=parseFloat(a);if(isNaN(a))throw Error("Unable to parse coordinate: "+a);return a}};var implementation=new function(){this.NONE=0;this.NATIVE=1;this.MOZILLA=2;this.WEBKIT=3;this.IE=4;this.OPERA=5;this.CANVAS_WORKAROUND=6;this.FILTER_WORKAROUND=7;this.HEX_WORKAROUND=8};var colorType=new function(){this.BACKGROUND=0;this.FOREGROUND=1};if(!window.StringHelpers){StringHelpers=new function(){var a=this;a.initWhitespaceRe=/^\s\s*/;a.endWhitespaceRe=/\s\s*$/;a.whitespaceRe=/\s/;a.sprintf=function(a){var b=function(a,b,c){var d="";for(var e=0;e<Math.abs(c);e++)d+=b;return c>0?a+d:d+a};var c=function(a,c,d,e){var f=function(a,b,c){if(b>=0){if(a.indexOf(" ")>=0)c=" "+c;else if(a.indexOf("+")>=0)c="+"+c}else c="-"+c;return c};var g=parseInt(c,10);if(c.charAt(0)=="0"){var h=0;if(a.indexOf(" ")>=0||a.indexOf("+")>=0)h++;if(d.length<g-h)d=b(d,"0",d.length-(g-h));return f(a,e,d)}d=f(a,e,d);if(d.length<g){if(a.indexOf("-")<0)d=b(d," ",d.length-g);else d=b(d," ",g-d.length)}return d};var d=new Array;d["c"]=function(a,b,c,d){if(typeof d=="number")return String.fromCharCode(d);if(typeof d=="string")return d.charAt(0);return""};d["d"]=function(a,b,c,e){return d["i"](a,b,c,e)};d["u"]=function(a,b,c,e){return d["i"](a,b,c,Math.abs(e))};d["i"]=function(a,d,e,f){var g=parseInt(e);var h=Math.abs(f).toString().split(".")[0];if(h.length<g)h=b(h," ",g-h.length);return c(a,d,h,f)};d["E"]=function(a,b,c,e){return d["e"](a,b,c,e).toUpperCase()};d["e"]=function(a,b,d,e){iPrecision=parseInt(d);if(isNaN(iPrecision))iPrecision=6;rs=Math.abs(e).toExponential(iPrecision);if(rs.indexOf(".")<0&&a.indexOf("#")>=0)rs=rs.replace(/^(.*)(e.*)$/,"$1.$2");return c(a,b,rs,e)};d["f"]=function(a,b,d,e){iPrecision=parseInt(d);if(isNaN(iPrecision))iPrecision=6;rs=Math.abs(e).toFixed(iPrecision);if(rs.indexOf(".")<0&&a.indexOf("#")>=0)rs=rs+".";return c(a,b,rs,e)};d["G"]=function(a,b,c,e){return d["g"](a,b,c,e).toUpperCase()};d["g"]=function(a,b,d,e){iPrecision=parseInt(d);absArg=Math.abs(e);rse=absArg.toExponential();rsf=absArg.toFixed(6);if(!isNaN(iPrecision)){rsep=absArg.toExponential(iPrecision);rse=rsep.length<rse.length?rsep:rse;rsfp=absArg.toFixed(iPrecision);rsf=rsfp.length<rsf.length?rsfp:rsf}if(rse.indexOf(".")<0&&a.indexOf("#")>=0)rse=rse.replace(/^(.*)(e.*)$/,"$1.$2");if(rsf.indexOf(".")<0&&a.indexOf("#")>=0)rsf=rsf+".";rs=rse.length<rsf.length?rse:rsf;return c(a,b,rs,e)};d["o"]=function(a,d,e,f){var g=parseInt(e);var h=Math.round(Math.abs(f)).toString(8);if(h.length<g)h=b(h," ",g-h.length);if(a.indexOf("#")>=0)h="0"+h;return c(a,d,h,f)};d["X"]=function(a,b,c,e){return d["x"](a,b,c,e).toUpperCase()};d["x"]=function(a,d,e,f){var g=parseInt(e);f=Math.abs(f);var h=Math.round(f).toString(16);if(h.length<g)h=b(h," ",g-h.length);if(a.indexOf("#")>=0)h="0x"+h;return c(a,d,h,f)};d["s"]=function(a,b,d,e){var f=parseInt(d);var g=e;if(g.length>f)g=g.substring(0,f);return c(a,b,g,0)};farr=a.split("%");retstr=farr[0];fpRE=/^([-+ #]*)(\d*)\.?(\d*)([cdieEfFgGosuxX])(.*)$/;for(var e=1;e<farr.length;e++){fps=fpRE.exec(farr[e]);if(!fps)continue;if(arguments[e]!=null)retstr+=d[fps[4]](fps[1],fps[2],fps[3],arguments[e]);retstr+=fps[5]}return retstr};a.uncommentHTML=function(a){if(a.indexOf("-->")!=-1&&a.indexOf("<!--")!=-1){return a.replace("<!--","").replace("-->","")}else{return a}}}}if(!window.XMLHelpers){XMLHelpers=new function(){var a=this;a.getXMLHttpRequest=function(b,c){var d=a.getXMLHttpRequest.arguments;var e=a.getXMLHttpRequest.arguments.length;var f=e>2?d[2]:"GET";var g=e>3?d[3]:"";var h=e>4?d[4]:true;var i;if(window.XMLHttpRequest){i=new XMLHttpRequest}else if(window.ActiveXObject){try{i=new ActiveXObject("Msxml2.XMLHTTP")}catch(j){i=new ActiveXObject("Microsoft.XMLHTTP")}}else{return null}if(h){i.onreadystatechange=c}if(f=="GET"&&g!=""){b+="?"+g}i.open(f,b,h);i.setRequestHeader("If-Modified-Since","Sat, 1 Jan 2000 00:00:00 GMT");i.send(g);return i}}}if(!window.CSSHelpers){CSSHelpers=new function(){function c(a){return"\\s"+a+"\\s|^"+a+"\\s|\\s"+a+"$|"+"^"+a+"$"}function c(a){return"\\s"+a+"\\s|^"+a+"\\s|\\s"+a+"$|"+"^"+a+"$"}var a=this;var b=new RegExp("\\s");a.getComputedStyle=function(a,b){var c;if(typeof a.currentStyle!="undefined"){c=a.currentStyle}else{c=document.defaultView.getComputedStyle(a,null)}return c[b]};a.isMemberOfClass=function(a,d){if(b.test(d))return false;var e=new RegExp(c(d),"g");return e.test(a.className)};a.addClass=function(c,d){if(b.test(d)){return}if(!a.isMemberOfClass(c,d)){c.className+=" "+d}};a.removeClass=function(a,d){if(b.test(d)){return}var e=new RegExp(c(d),"g");var f=a.className;if(a.className){a.className=f.replace(e,"")}};a.getElementsByClassName=function(a,b){var d=[];var e=new RegExp(c(b));var f=DOMHelpers.getAllDescendants(a);for(var g=0,h=f.length;g<h;g++){if(e.test(f[g].className)){d.push(f[g])}}return d}}}String.prototype.trim=function(){var a=this;if(this.length>6e3){a=this.replace(StringHelpers.initWhitespaceRe,"");var b=a.length;while(StringHelpers.whitespaceRe.test(a.charAt(--b)));return a.slice(0,b+1)}else{return this.replace(StringHelpers.initWhitespaceRe,"").replace(StringHelpers.endWhitespaceRe,"")}};if(!window.DOMHelpers){DOMHelpers=new function(){var a=this;a.getAllDescendants=function(a){return a.all?a.all:a.getElementsByTagName("*")};a.nodeListToArray=function(a){var b=[];for(var c=0,d=a.length;c<d;c++){b.push(a[c])}return b}}}String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.substr(1)};EventHelpers.addPageLoadEvent("cssSandpaper.init")